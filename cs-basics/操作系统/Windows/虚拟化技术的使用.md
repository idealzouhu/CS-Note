### 虚拟化技术

Windows 10 家庭版好像不支持 Hyper V, 从而不支持 WSL2



### 启动 Hyper-v

> [Win10 家庭中文版安装Docker(Win10家庭版 +Hyper-V+Docker） - 柠檬草不孤单 - 博客园](https://www.cnblogs.com/temari/p/13188168.html)

Win10家庭中文版无 Hyper-v，可以通过以下方式添加：

1. 桌面新建一个 `Hyper-V.bat` 文件，具体内容如下：

```bat
pushd "%~dp0"

dir /b %SystemRoot%\servicing\Packages\*Hyper-V*.mum >hyper-v.txt

for /f %%i in ('findstr /i . hyper-v.txt 2^>nul') do dism /online /norestart /add-package:"%SystemRoot%\servicing\Packages\%%i"

del hyper-v.txt

Dism /online /enable-feature /featurename:Microsoft-Hyper-V-All /LimitAccess /ALL
```

2. 鼠标右键选中“以管理员身份运行”，窗口运行执行代码，直到运行结束，显示提示是否重启，输入Y，重启电脑，如图：![image-20241223142613140](images/image-20241223142613140.png)

3. 重启完毕，打开控制面板控->程序->程序和功能,点击“启用和关闭Windows功能”，弹出窗口，可看到 Hyper-V 已添加，如图：

​       



### 启动 Windows 功能

```shell
C:\Windows\System32>dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart

部署映像服务和管理工具
版本: 10.0.22621.2792

映像版本: 10.0.22631.4602

启用一个或多个功能
[==========================100.0%==========================]
操作成功完成。

C:\Windows\System32>dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart

部署映像服务和管理工具
版本: 10.0.22621.2792

映像版本: 10.0.22631.4602

启用一个或多个功能
[==========================100.0%==========================]
操作成功完成。
```



### 突破限制





### WSL 软件

Windows 自身提供 WSL**Windows Subsystem for Linux** 功能，同时还有基于轻量级的 WSL2。

- WSL（**Windows Subsystem for Linux**）：微软在 Windows 10 和 Windows 11 上推出的功能，允许用户直接在 Windows 系统中运行原生 Linux 二进制可执行文件（ELF 格式），而无需传统虚拟机或双系统。它提供了接近原生 Linux 的性能，并支持与 Windows 系统的深度集成。

- **WSL 2**：基于轻量级虚拟机（Hyper-V 虚拟化技术），运行完整的 Linux 内核。WSL 2 使用 **Hyper-V 虚拟化** 运行一个完整的 Linux 内核，因此必须启用 **虚拟机平台** 功能。



wsl 和 wsl2 切换:

```cmd
$wsl --status
默认版本: 2
当前计算机配置不支持 WSL1。
若要使用 WSL1，请启用“Windows Subsystem for Linux”可选组件。

$wsl --set-default-version 1  # 设置默认版本为 WSL 1
操作成功完成。
```





## 参考资料

[Win10 家庭中文版安装Docker(Win10家庭版 +Hyper-V+Docker） - 柠檬草不孤单 - 博客园](https://www.cnblogs.com/temari/p/13188168.html)



[Windows 10家庭中文版中启用WSL 2_启用wsl2-CSDN博客](https://blog.csdn.net/weixin_44203681/article/details/114297151)

